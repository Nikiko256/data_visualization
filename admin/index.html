<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Panel</title>

  <script>
    (function () {
      const key = "theme";
      const saved = localStorage.getItem(key);
      const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
      const theme = saved || (prefersLight ? "light" : "dark");
      document.documentElement.dataset.theme = theme;
    })();
  </script>

  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="admin.css">
</head>

<body>
  <div class="container">
    <header class="topbar">
      <div></div>
      <h1>Admin Control Panel</h1>
      <button class="btn" id="themeToggle" type="button" aria-label="Toggle theme">☀️</button>
    </header>

    <!-- Tabs -->
    <section class="controls" style="grid-template-columns: 1fr;">
      <div class="admin-tabs">
        <button class="btn" id="tabStations" type="button">Stations</button>
        <!-- <button class="btn" id="tabNodes" type="button">Nodes</button> -->
      </div>
    </section>

    <!-- STATIONS PANEL -->
    <section id="panelStations" class="admin-panel" style="display:none;">
      <div class="chart-card mb-16">
        <div class="chart-head">
          <div class="chart-title">Create station</div>
        </div>

        <div class="admin-form admin-form--stations">
          <div>
            <label class="admin-label" for="stCreateId">s_id</label>
            <input id="stCreateId" class="time-select admin-input" placeholder="e.g. STATION_001">
          </div>

          <div>
            <label class="admin-label" for="stCreateName">Station name</label>
            <input id="stCreateName" class="time-select admin-input" placeholder="e.g. Campus Station">
          </div>

          <button class="btn" id="btnCreateStation" type="button">Create</button>
        </div>

        <div class="admin-hint">
          Tip: <b>s_id</b> should match what your ESP sends as station id.
        </div>
      </div>

      <div class="chart-card">
        <div class="admin-head">
          <div class="chart-title">Stations list</div>
          <input id="stSearch" class="time-select" style="padding:10px; min-width:220px;" placeholder="Search...">
        </div>

        <div class="admin-table-wrap mt-16">
          <table class="admin-table">
            <thead>
              <tr>
                <th>s_id</th>
                <th>s_name</th>
                <th style="width:220px;">Actions</th>
              </tr>
            </thead>
            <tbody id="stationsTbody"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- NODES PANEL 
    <section id="panelNodes" class="admin-panel" style="display:none;">
      <div class="chart-card mb-16">
        <div class="chart-head">
          <div class="chart-title">Create node (metadata)</div>
        </div>

        <div class="admin-form admin-form--nodes">
          <div>
            <label class="admin-label" for="nodeCreateStation">Station</label>
            <select id="nodeCreateStation" class="time-select admin-input"></select>
          </div>

          <div>
            <label class="admin-label" for="nodeCreateName">n_name</label>
            <input id="nodeCreateName" class="time-select admin-input" placeholder="e.g. node_1">
          </div>

          <div>
            <label class="admin-label" for="nodeCreateDisplay">Display name</label>
            <input id="nodeCreateDisplay" class="time-select admin-input" placeholder="e.g. Greenhouse #1">
          </div>

          <button class="btn" id="btnCreateNode" type="button">Create</button>
        </div>

        <div class="admin-hint">
          These rows don’t affect sensor data — only how nodes appear in the public UI (name + active).
        </div>
      </div>

      <div class="chart-card">
        <div class="admin-head">
          <div class="chart-title">Nodes list</div>
          <input id="nodeSearch" class="time-select" style="padding:10px; min-width:220px;" placeholder="Search...">
        </div>

        <div class="admin-table-wrap mt-16">
          <table class="admin-table admin-table--nodes">
            <thead>
              <tr>
                <th style="width:90px;">id</th>
                <th style="width:140px;">s_id</th>
                <th style="width:160px;">n_name</th>
                <th>display_name</th>
                <th style="width:140px;">active</th>
                <th style="width:220px;">Actions</th>
              </tr>
            </thead>
            <tbody id="nodesTbody"></tbody>
          </table>
        </div>
      </div>
    </section> -->

  </div>

  <script src="../js/theme.js" defer></script>
  <script src="admin.js" defer></script>
</body>
</html>
